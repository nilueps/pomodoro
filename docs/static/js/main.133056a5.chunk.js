(this["webpackJsonpfcc-pomodoro-clock"]=this["webpackJsonpfcc-pomodoro-clock"]||[]).push([[0],{11:function(e,t,s){e.exports=s.p+"static/media/bell.45dd5ea1.ogg"},12:function(e,t,s){e.exports=s.p+"static/media/deepbell.204def96.ogg"},17:function(e,t,s){e.exports=s(29)},22:function(e,t,s){},23:function(e,t,s){},29:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),i=s(8),l=s.n(i),r=(s(22),s(15)),c=s(9),o=s(10),u=s(4),m=s(16),b=s(14),d=s(11),h=s.n(d),g=s(12),k=s.n(g);s(23);function f(e){return e>9?e.toString():"0"+e}function p(e){var t,s,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hms:a";e instanceof Date?(t=e.getHours(),s=f(e.getMinutes()),a=f(e.getSeconds())):(t=Math.floor(e/1e3/60/60).toString(),s=f(Math.floor(e/1e3/60%60)),a=f(Math.floor(e/1e3%60)));var i=[];if(n.includes("h")&&i.push(t),n.includes("m")&&i.push(s),n.includes("s")&&i.push(a),n.includes("a")){var l=t%12;i[i.indexOf(t)]=0===l?12:l;for(var r=0;r<i.length-1;r++)i[r]+=":";t<13?i.push(" AM"):i.push(" PM")}else if(n.includes(":"))for(var c=0;c<i.length-1;c++)i[c]+=":";else i[i.indexOf(t)]+="h",i[i.indexOf(s)]+="m",i[i.indexOf(a)]+="s";return i.join("")}function v(e){return 6e4*e}var E=s(2),L=s(3),y=s(13);function S(e){var t=e.label+"-label",s=e.label+"-value",a=e.label[0].toUpperCase()+e.label.slice(1)+("blocks"!==e.label?" Length":"");return n.a.createElement("div",{className:"incrementer"},n.a.createElement("div",{className:"label",id:t},a),n.a.createElement("div",{className:"updown"},n.a.createElement("div",{className:"btn up",id:e.label,onClick:function(t){return e.callback(1,t)}},"+"),n.a.createElement("div",{className:"btn down",id:e.label,onClick:function(t){return e.callback(-1,t)}},"\u2013")),n.a.createElement("div",{className:"number",id:s},e.value))}function N(e){return n.a.createElement("div",{className:"controls"},n.a.createElement("div",{className:"btn",id:"playPause",onClick:e.callback},n.a.createElement(E.a,{icon:e.isRunning?L.b:L.c})),n.a.createElement("div",{className:"btn",id:"reset",onClick:e.callback},n.a.createElement(E.a,{icon:L.d})))}function w(e){var t=!!(e.isRunning&&e.timeLeft<6e4),s=e.blocks.map((function(e,t){return e?n.a.createElement(E.a,{key:t,icon:L.a}):n.a.createElement(E.a,{key:t,icon:y.a})}));return n.a.createElement("div",{className:"timer"+(t?" red-alert":"")},n.a.createElement("div",{className:"timer-label",id:"timer-label"},e.status[0].toUpperCase()+e.status.slice(1)),n.a.createElement("div",{className:"time-left",id:"time-left"},p(e.timeLeft,"ms:")),n.a.createElement("div",{className:"blocks-display"},s))}function R(e){var t=e.settings,s=e.timer,a=e.stats,i=v(t.sessionLength+t.breakLength),l=Math.max(0,t.blocks.reduce((function(e,t){return e+t}))-1),r=s.timeLeft+l*i;return"break"===s.status&&(r-=v(t.breakLength)),n.a.createElement("div",{className:"stats"},n.a.createElement("div",null,"Total time remaining: ",p(r,"hm")),n.a.createElement("div",null,"Series ends at ",p(new Date(Date.now()+r),"hm:a")),n.a.createElement("hr",null),n.a.createElement("div",null,"Sessions completed: ",a.sessionsCompleted),n.a.createElement("div",null,"Total session time: ",p(a.timeElapsed,"hm")))}var M={settings:{breakLength:5,sessionLength:25,blocks:[1,1,1,1]},timer:{status:"ready",lastStatus:"",timeLeft:0,isRunning:!1},stats:{timeElapsed:0,sessionsCompleted:0}},O=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).changeSettings=function(e,t){var s=a.state,n=s.settings,i=s.timer;switch(t.currentTarget.id){case"session":n.sessionLength=e>0?Math.min(60,n.sessionLength+e):Math.max(1,n.sessionLength-1),"session"!==i.status&&"ready"!==i.status&&"series complete"!==i.status||(i.timeLeft=v(n.sessionLength));break;case"break":n.breakLength=e>0?Math.min(60,n.breakLength+e):Math.max(1,n.breakLength-1),"break"===i.status&&(i.timeLeft=v(n.breakLength));break;case"blocks":e>0?n.blocks.length<10&&n.blocks.unshift(1):n.blocks.length>1&&n.blocks.shift()}a.setState({settings:n,timer:i})},a.playPauseReset=function(e){var t=a.state,s=t.settings,n=t.timer,i=t.stats;switch(e.currentTarget.id){case"playPause":switch(n.isRunning=!n.isRunning,n.status){case"ready":case"series complete":s.blocks=s.blocks.map((function(e){return 1})),n.status="session",n.timeLeft=v(s.sessionLength);break;case"session":case"break":n.lastStatus=n.status,n.status="paused";break;case"paused":n.status=n.lastStatus,n.lastStatus="paused";break;default:return}return void a.setState({settings:s,timer:n});case"reset":return"ready"===n.status?(i.timeElapsed=0,i.sessionsCompleted=0):n.status="ready",s.blocks=s.blocks.map((function(e){return 1})),n.timeLeft=v(s.sessionLength),n.isRunning=!1,void a.setState({settings:s,timer:n,stats:i});default:return}},a.state=M,a.playPauseReset=a.playPauseReset.bind(Object(u.a)(a)),a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.tic()}),1e3),this.setState({timer:Object(r.a)({},this.state.timer,{timeLeft:v(this.state.settings.sessionLength)})})}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tic",value:function(){if(this.state.timer.isRunning){var e=this.state,t=e.settings,s=e.timer,a=e.stats;0===s.timeLeft?"session"===s.status?(a.sessionsCompleted+=1,1===t.blocks.reduce((function(e,t){return e+t}))?(t.blocks[0]=0,s.isRunning=!1,s.status="series complete",s.timeLeft=0,this.bell.currentTime=0,this.bell.play()):(s.status="break",s.timeLeft=v(t.breakLength),this.beep.currentTime=0,this.beep.play())):"break"===s.status&&(t.blocks[t.blocks.length-1]?t.blocks[t.blocks.length-1]=0:t.blocks[t.blocks.indexOf(0)-1]=0,s.status="session",s.timeLeft=v(t.sessionLength),this.beep.currentTime=0,this.beep.play()):(s.timeLeft-=1e3,"session"===s.status&&(a.timeElapsed+=1e3)),this.setState({settings:t,timer:s,stats:a})}}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"pomodoro"},n.a.createElement("audio",{id:"beep",src:h.a,type:"audio/ogg",ref:function(t){e.beep=t}}),n.a.createElement("audio",{id:"bell",src:k.a,type:"audio/ogg",ref:function(t){e.bell=t}}),n.a.createElement("div",{className:"incrementers"},n.a.createElement(S,{key:"0",label:"session",value:this.state.settings.sessionLength,callback:this.changeSettings}),n.a.createElement(S,{key:"1",label:"break",value:this.state.settings.breakLength,callback:this.changeSettings}),n.a.createElement(S,{key:"2",label:"blocks",value:this.state.settings.blocks.length,callback:this.changeSettings})),n.a.createElement(N,{isRunning:this.state.timer.isRunning,callback:this.playPauseReset}),n.a.createElement(w,Object.assign({},this.state.timer,{blocks:this.state.settings.blocks})),n.a.createElement(R,this.state))}}]),s}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement("div",{className:"app-wrapper"},n.a.createElement(O,null),n.a.createElement("p",null,"created by",n.a.createElement("br",null),n.a.createElement("a",{href:"https://nilueps.net/"},"nilueps")))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.133056a5.chunk.js.map